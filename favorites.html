<!-- 
    ============================================
    PAGE FAVORIS - CINETECH
    ============================================
    Page d√©di√©e √† l'affichage des films et s√©ries favoris de l'utilisateur
    
    Fonctionnement :
    - Stockage local (localStorage) dans le navigateur
    - Aucun compte utilisateur / aucun serveur requis
    - Donn√©es persistantes (restent apr√®s fermeture du navigateur)
    - Cl√© localStorage : "cinetech_favorites"
    - Format : tableau JSON d'objets m√©dia avec leurs infos
    
    Fonctionnalit√©s :
    - Affichage de tous les favoris (films + s√©ries m√©lang√©s)
    - Cartes cliquables vers page de d√©tails
    - Bouton de retrait des favoris (coeur rouge ‚Üí coeur vide)
    - Message si aucun favori
    - Mise √† jour temps r√©el
    
    Limitation :
    - Favoris stock√©s par navigateur (pas synchronis√©s entre appareils)
    - Supprim√©s si l'utilisateur vide le cache navigateur
    - Limit√© √† ~5-10 MB par domaine (suffisant pour des centaines de films)
-->

<!-- D√©claration du type de document HTML5 -->
<!DOCTYPE html>

<!-- 
    √âl√©ment racine HTML avec langue fran√ßaise
    lang="fr" = important pour accessibilit√© et SEO
-->
<html lang="fr">

<head>
    <!-- 
        ============================================
        EN-T√äTE DU DOCUMENT (m√©tadonn√©es)
        ============================================
    -->
    
    <!-- 
        Encodage UTF-8 pour caract√®res sp√©ciaux
        Permet affichage correct des accents et emojis
    -->
    <meta charset="UTF-8">
    
    <!-- 
        Configuration responsive
        width=device-width = largeur adaptative
        initial-scale=1.0 = zoom par d√©faut √† 100%
        Essentiel pour affichage mobile correct
    -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- 
        Titre de la page
        Affich√© dans l'onglet du navigateur
        Format : [Page] - [Nom du site]
    -->
    <title>Favoris - Cinetech</title>
    
    <!-- 
        Lien vers feuille de style CSS partag√©e
        Tous les styles visuels de l'application
    -->
    <link rel="stylesheet" href="css/style.css">
</head>

<!-- 
    Corps du document
    Contient tout le contenu visible
-->
<body>
    <!-- 
        ============================================
        HEADER (EN-T√äTE) - Navigation principale
        ============================================
        Header identique sur toutes les pages
        Sticky (reste visible lors du scroll)
    -->
    <header>
        <!-- 
            Container centralis√©
            Limite la largeur et centre le contenu
        -->
        <div class="container">
            <!-- 
                Conteneur flexbox pour disposition horizontale
                Logo | Navigation | Recherche
            -->
            <div class="header-content">
                <!-- 
                    Logo Cinetech avec lien vers accueil
                    H1 pour importance SEO
                    üé¨ = emoji cin√©ma pour identit√© visuelle
                -->
                <h1 class="logo"><a href="index.html">üé¨ Cinetech</a></h1>
                
                <!-- 
                    Navigation principale
                    Balise s√©mantique <nav> pour accessibilit√©
                -->
                <nav>
                    <!-- 
                        Liste de liens
                        Affich√©e horizontalement via CSS
                    -->
                    <ul>
                        <li><a href="index.html">Accueil</a></li>
                        <li><a href="movies.html">Films</a></li>
                        <li><a href="series.html">S√©ries</a></li>
                        <li><a href="trending.html">Trending</a></li>
                        <li><a href="new-releases.html">Nouveaut√©s</a></li>
                        <li><a href="favorites.html" class="active">Favoris</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="legal.html">Mentions l√©gales</a></li>
                        <li><a href="terms.html">CGU</a></li>
                    </ul>
                </nav>
                
                <!-- 
                    Conteneur de recherche
                    Position relative pour dropdown en absolute
                -->
                <div class="search-container">
                    <!-- 
                        Input de recherche
                        id="searchInput" = cibl√© par JavaScript (search.js)
                        √âcoute les saisies (keyup event) pour recherche instantan√©e
                    -->
                    <input type="text" id="searchInput" placeholder="Rechercher un film ou une s√©rie...">
                    
                    <!-- 
                        Conteneur des r√©sultats de recherche
                        Rempli dynamiquement par JavaScript
                        Affich√© en dropdown sous l'input
                    -->
                    <div id="searchResults" class="search-results"></div>
                </div>
            </div>
        </div>
    </header>

    <!-- 
        ============================================
        MAIN (CONTENU PRINCIPAL)
        ============================================
        Balise s√©mantique pour le contenu principal
        Une seule balise <main> par page
    -->
    <main>
        <!-- 
            ============================================
            SECTION : GRILLE DES FAVORIS
            ============================================
            Section unique de cette page
            Affiche tous les films et s√©ries mis en favoris
            
            Source des donn√©es :
            - localStorage du navigateur
            - Cl√© : "cinetech_favorites"
            - Format : JSON array d'objets
            
            Exemple de structure localStorage :
            [
              {
                "id": 550,
                "type": "movie",
                "title": "Fight Club",
                "poster_path": "/pB8BM7pdSp6B6Ih7QZ4DrQ3PmJK.jpg",
                "vote_average": 8.4
              },
              {
                "id": 1399,
                "type": "tv",
                "name": "Game of Thrones",
                "poster_path": "/u3bZgnGQ9T01sWNhyveQz0wH0Hl.jpg",
                "vote_average": 8.3
              }
            ]
            
            Traitement JavaScript (favorites.js) :
            1. Lecture du localStorage
            2. Parsing du JSON
            3. Cr√©ation de cartes HTML pour chaque favori
            4. Injection dans #favoritesGrid
            5. Si tableau vide : message "Aucun favori"
            
            Interactions utilisateur :
            - Clic sur carte ‚Üí page de d√©tails
            - Clic sur bouton ‚ù§Ô∏è ‚Üí retrait des favoris
            - Retrait met √† jour localStorage + supprime la carte de l'affichage
        -->
        <section class="section">
            <!-- Container pour centrer le contenu -->
            <div class="container">
                <!-- 
                    Titre de la page
                    Classe .page-title = style pour titres de pages
                    Diff√©rent de .section-title (sections multiples)
                -->
                <h2 class="page-title">Mes Favoris</h2>
                
                <!-- 
                    Grille des favoris
                    
                    Attributs :
                    - id="favoritesGrid" = cibl√© par JavaScript pour injection
                    - class="media-grid" = grille CSS responsive
                      M√™me grille que sur les autres pages pour coh√©rence
                    
                    CSS Grid responsive :
                    - display: grid
                    - grid-template-columns: repeat(auto-fill, minmax(200px, 1fr))
                    - S'adapte automatiquement √† la largeur d'√©cran
                    - Desktop : 5-6 cartes par ligne
                    - Tablette : 3-4 cartes par ligne
                    - Mobile : 2 cartes par ligne
                    
                    √âtats possibles :
                    1. Chargement : message "Chargement..." (par d√©faut)
                    2. Favoris pr√©sents : cartes de m√©dias affich√©es
                    3. Aucun favori : message personnalis√© JavaScript
                       "Vous n'avez pas encore de favoris. Parcourez les films et s√©ries..."
                -->
                <div id="favoritesGrid" class="media-grid">
                    <!-- 
                        Message de chargement par d√©faut
                        Affich√© pendant que JavaScript lit le localStorage
                        Supprim√© imm√©diatement (localStorage est instantan√©)
                        Remplac√© par les cartes ou le message "aucun favori"
                    -->
                    <div class="loading">Chargement...</div>
                </div>
            </div>
        </section>
    </main>

    <!-- 
        ============================================
        FOOTER (PIED DE PAGE)
        ============================================
        Footer identique sur toutes les pages
    -->
    <footer>
        <!-- Container pour centrer le contenu -->
        <div class="container">
            <!-- 
                Copyright et attribution TMDB
                &copy; = entit√© HTML pour symbole ¬©
                Attribution TMDB obligatoire selon conditions API
            -->
            <p>&copy; 2025 Cinetech. Donn√©es fournies par TMDB.</p>
        </div>
    </footer>

    <!-- 
        ============================================
        SCRIPT JAVASCRIPT - MODULE ES6
        ============================================
        Chargement du fichier JavaScript sp√©cifique aux favoris
        
        type="module" = Active le mode module ES6
        Permet :
        - Import/export de modules
        - Mode strict automatique
        - Chargement diff√©r√© (defer)
        - Port√©e isol√©e des variables
        
        Fichier favorites.js contient :
        
        1. LECTURE DES FAVORIS DEPUIS LOCALSTORAGE
           - Acc√®s √† localStorage.getItem('cinetech_favorites')
           - Parse du JSON en tableau JavaScript
           - Gestion des erreurs (JSON invalide)
        
        2. AFFICHAGE DES CARTES
           - Cr√©ation de cartes HTML pour chaque favori
           - Utilisation de la classe UIManager (ui.js)
           - Fonction createMediaCard() r√©utilis√©e
           - Injection dans #favoritesGrid
        
        3. GESTION DU BOUTON FAVORI
           - Bouton c≈ìur rouge (actif) sur chaque carte
           - Clic sur bouton ‚Üí retrait du favori
           - Mise √† jour du localStorage
           - Suppression de la carte de l'affichage (animation)
           - Si dernier favori retir√© ‚Üí affiche message "Aucun favori"
        
        4. MESSAGE SI AUCUN FAVORI
           - D√©tection tableau vide ou localStorage absent
           - Affichage message personnalis√© avec liens
           - Encourage l'utilisateur √† explorer le catalogue
        
        5. SYNCHRONISATION
           - √âcoute des √©v√©nements de favoris (custom events)
           - Si favori ajout√© depuis autre page ‚Üí appara√Æt ici
           - Temps r√©el sans rechargement de page
        
        6. RECHERCHE
           - Import et initialisation du module search.js
           - Barre de recherche fonctionnelle sur cette page aussi
        
        LocalStorage API :
        - Web API native du navigateur
        - Stockage cl√©-valeur (strings uniquement)
        - Synchrone (instantan√©)
        - Persistant (survit √† la fermeture du navigateur)
        - Limit√© √† ~5-10 MB par domaine
        - Accessible uniquement sur m√™me domaine (s√©curit√©)
        
        Structure des donn√©es favorites :
        - Tableau d'objets m√©dia
        - Chaque objet contient : id, type, title/name, poster_path, vote_average
        - Format JSON stringifi√© pour stockage
        - Parse requis pour lecture
        
        M√©thodes utilis√©es :
        - localStorage.getItem('cinetech_favorites') ‚Üí lecture
        - localStorage.setItem('cinetech_favorites', JSON.stringify(array)) ‚Üí √©criture
        - JSON.parse(string) ‚Üí conversion string ‚Üí objet
        - JSON.stringify(object) ‚Üí conversion objet ‚Üí string
        
        Avantages localStorage :
        ‚úÖ Aucun serveur requis (√©conomie)
        ‚úÖ Instantan√© (pas de latence r√©seau)
        ‚úÖ Fonctionne hors ligne
        ‚úÖ Simple √† impl√©menter
        
        Inconv√©nients localStorage :
        ‚ùå Non synchronis√© entre appareils
        ‚ùå Perdu si cache vid√©
        ‚ùå Non s√©curis√© (visible en dev tools)
        ‚ùå Limit√© en taille
        
        Pour une application production r√©elle :
        - Utiliser un backend (Node.js, PHP, etc.)
        - Base de donn√©es (MongoDB, MySQL, etc.)
        - Authentification utilisateur
        - Synchronisation cloud
    -->
    <script type="module" src="js/favorites.js"></script>
</body>
</html>
