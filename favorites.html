<!-- 
    ============================================
    PAGE FAVORIS - CINETECH
    ============================================
    Page dÃ©diÃ©e Ã  l'affichage des films et sÃ©ries favoris de l'utilisateur
    
    Fonctionnement :
    - Stockage local (localStorage) dans le navigateur
    - Aucun compte utilisateur / aucun serveur requis
    - DonnÃ©es persistantes (restent aprÃ¨s fermeture du navigateur)
    - ClÃ© localStorage : "cinetech_favorites"
    - Format : tableau JSON d'objets mÃ©dia avec leurs infos
    
    FonctionnalitÃ©s :
    - Affichage de tous les favoris (films + sÃ©ries mÃ©langÃ©s)
    - Cartes cliquables vers page de dÃ©tails
    - Bouton de retrait des favoris (coeur rouge â†’ coeur vide)
    - Message si aucun favori
    - Mise Ã  jour temps rÃ©el
    
    Limitation :
    - Favoris stockÃ©s par navigateur (pas synchronisÃ©s entre appareils)
    - SupprimÃ©s si l'utilisateur vide le cache navigateur
    - LimitÃ© Ã  ~5-10 MB par domaine (suffisant pour des centaines de films)
-->

<!-- DÃ©claration du type de document HTML5 -->
<!DOCTYPE html>

<!-- 
    Ã‰lÃ©ment racine HTML avec langue franÃ§aise
    lang="fr" = important pour accessibilitÃ© et SEO
-->
<html lang="fr">

<head>
    <!-- 
        ============================================
        EN-TÃŠTE DU DOCUMENT (mÃ©tadonnÃ©es)
        ============================================
    -->
    
    <!-- 
        Encodage UTF-8 pour caractÃ¨res spÃ©ciaux
        Permet affichage correct des accents et emojis
    -->
    <meta charset="UTF-8">
    
    <!-- 
        Configuration responsive
        width=device-width = largeur adaptative
        initial-scale=1.0 = zoom par dÃ©faut Ã  100%
        Essentiel pour affichage mobile correct
    -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- 
        Titre de la page
        AffichÃ© dans l'onglet du navigateur
        Format : [Page] - [Nom du site]
    -->
    <title>Favoris - Cinetech</title>
    
    <!-- 
        Lien vers feuille de style CSS partagÃ©e
        Tous les styles visuels de l'application
    -->
    <link rel="stylesheet" href="css/style.css">
</head>

<!-- 
    Corps du document
    Contient tout le contenu visible
-->
<body>
    <!-- 
        ============================================
        HEADER (EN-TÃŠTE) - Navigation principale
        ============================================
        Header identique sur toutes les pages
        Sticky (reste visible lors du scroll)
    -->
    <header>
        <!-- 
            Container centralisÃ©
            Limite la largeur et centre le contenu
        -->
        <div class="container">
            <!-- 
                Conteneur flexbox pour disposition horizontale
                Logo | Navigation | Recherche
            -->
            <div class="header-content">
                <!-- 
                    Logo Cinetech avec lien vers accueil
                    H1 pour importance SEO
                    ðŸŽ¬ = emoji cinÃ©ma pour identitÃ© visuelle
                -->
                <h1 class="logo"><a href="index.html">ðŸŽ¬ Cinetech</a></h1>
                
                <!-- 
                    Navigation principale
                    Balise sÃ©mantique <nav> pour accessibilitÃ©
                -->
                <nav>
                    <!-- 
                        Liste de liens
                        AffichÃ©e horizontalement via CSS
                    -->
                    <ul>
                        <!-- Lien vers page d'accueil -->
                        <li><a href="index.html">Accueil</a></li>
                        
                        <!-- Lien vers page des films -->
                        <li><a href="movies.html">Films</a></li>
                        
                        <!-- Lien vers page des sÃ©ries -->
                        <li><a href="series.html">SÃ©ries</a></li>
                        
                        <!-- 
                            Lien vers page des favoris (page actuelle)
                            class="active" = style CSS diffÃ©rent
                            Indique visuellement Ã  l'utilisateur oÃ¹ il se trouve
                            CSS : couleur rouge + soulignement
                        -->
                        <li><a href="favorites.html" class="active">Favoris</a></li>
                    </ul>
                </nav>
                
                <!-- 
                    Conteneur de recherche
                    Position relative pour dropdown en absolute
                -->
                <div class="search-container">
                    <!-- 
                        Input de recherche
                        id="searchInput" = ciblÃ© par JavaScript (search.js)
                        Ã‰coute les saisies (keyup event) pour recherche instantanÃ©e
                    -->
                    <input type="text" id="searchInput" placeholder="Rechercher un film ou une sÃ©rie...">
                    
                    <!-- 
                        Conteneur des rÃ©sultats de recherche
                        Rempli dynamiquement par JavaScript
                        AffichÃ© en dropdown sous l'input
                    -->
                    <div id="searchResults" class="search-results"></div>
                </div>
            </div>
        </div>
    </header>

    <!-- 
        ============================================
        MAIN (CONTENU PRINCIPAL)
        ============================================
        Balise sÃ©mantique pour le contenu principal
        Une seule balise <main> par page
    -->
    <main>
        <!-- 
            ============================================
            SECTION : GRILLE DES FAVORIS
            ============================================
            Section unique de cette page
            Affiche tous les films et sÃ©ries mis en favoris
            
            Source des donnÃ©es :
            - localStorage du navigateur
            - ClÃ© : "cinetech_favorites"
            - Format : JSON array d'objets
            
            Exemple de structure localStorage :
            [
              {
                "id": 550,
                "type": "movie",
                "title": "Fight Club",
                "poster_path": "/pB8BM7pdSp6B6Ih7QZ4DrQ3PmJK.jpg",
                "vote_average": 8.4
              },
              {
                "id": 1399,
                "type": "tv",
                "name": "Game of Thrones",
                "poster_path": "/u3bZgnGQ9T01sWNhyveQz0wH0Hl.jpg",
                "vote_average": 8.3
              }
            ]
            
            Traitement JavaScript (favorites.js) :
            1. Lecture du localStorage
            2. Parsing du JSON
            3. CrÃ©ation de cartes HTML pour chaque favori
            4. Injection dans #favoritesGrid
            5. Si tableau vide : message "Aucun favori"
            
            Interactions utilisateur :
            - Clic sur carte â†’ page de dÃ©tails
            - Clic sur bouton â¤ï¸ â†’ retrait des favoris
            - Retrait met Ã  jour localStorage + supprime la carte de l'affichage
        -->
        <section class="section">
            <!-- Container pour centrer le contenu -->
            <div class="container">
                <!-- 
                    Titre de la page
                    Classe .page-title = style pour titres de pages
                    DiffÃ©rent de .section-title (sections multiples)
                -->
                <h2 class="page-title">Mes Favoris</h2>
                
                <!-- 
                    Grille des favoris
                    
                    Attributs :
                    - id="favoritesGrid" = ciblÃ© par JavaScript pour injection
                    - class="media-grid" = grille CSS responsive
                      MÃªme grille que sur les autres pages pour cohÃ©rence
                    
                    CSS Grid responsive :
                    - display: grid
                    - grid-template-columns: repeat(auto-fill, minmax(200px, 1fr))
                    - S'adapte automatiquement Ã  la largeur d'Ã©cran
                    - Desktop : 5-6 cartes par ligne
                    - Tablette : 3-4 cartes par ligne
                    - Mobile : 2 cartes par ligne
                    
                    Ã‰tats possibles :
                    1. Chargement : message "Chargement..." (par dÃ©faut)
                    2. Favoris prÃ©sents : cartes de mÃ©dias affichÃ©es
                    3. Aucun favori : message personnalisÃ© JavaScript
                       "Vous n'avez pas encore de favoris. Parcourez les films et sÃ©ries..."
                -->
                <div id="favoritesGrid" class="media-grid">
                    <!-- 
                        Message de chargement par dÃ©faut
                        AffichÃ© pendant que JavaScript lit le localStorage
                        SupprimÃ© immÃ©diatement (localStorage est instantanÃ©)
                        RemplacÃ© par les cartes ou le message "aucun favori"
                    -->
                    <div class="loading">Chargement...</div>
                </div>
            </div>
        </section>
    </main>

    <!-- 
        ============================================
        FOOTER (PIED DE PAGE)
        ============================================
        Footer identique sur toutes les pages
    -->
    <footer>
        <!-- Container pour centrer le contenu -->
        <div class="container">
            <!-- 
                Copyright et attribution TMDB
                &copy; = entitÃ© HTML pour symbole Â©
                Attribution TMDB obligatoire selon conditions API
            -->
            <p>&copy; 2025 Cinetech. DonnÃ©es fournies par TMDB.</p>
        </div>
    </footer>

    <!-- 
        ============================================
        SCRIPT JAVASCRIPT - MODULE ES6
        ============================================
        Chargement du fichier JavaScript spÃ©cifique aux favoris
        
        type="module" = Active le mode module ES6
        Permet :
        - Import/export de modules
        - Mode strict automatique
        - Chargement diffÃ©rÃ© (defer)
        - PortÃ©e isolÃ©e des variables
        
        Fichier favorites.js contient :
        
        1. LECTURE DES FAVORIS DEPUIS LOCALSTORAGE
           - AccÃ¨s Ã  localStorage.getItem('cinetech_favorites')
           - Parse du JSON en tableau JavaScript
           - Gestion des erreurs (JSON invalide)
        
        2. AFFICHAGE DES CARTES
           - CrÃ©ation de cartes HTML pour chaque favori
           - Utilisation de la classe UIManager (ui.js)
           - Fonction createMediaCard() rÃ©utilisÃ©e
           - Injection dans #favoritesGrid
        
        3. GESTION DU BOUTON FAVORI
           - Bouton cÅ“ur rouge (actif) sur chaque carte
           - Clic sur bouton â†’ retrait du favori
           - Mise Ã  jour du localStorage
           - Suppression de la carte de l'affichage (animation)
           - Si dernier favori retirÃ© â†’ affiche message "Aucun favori"
        
        4. MESSAGE SI AUCUN FAVORI
           - DÃ©tection tableau vide ou localStorage absent
           - Affichage message personnalisÃ© avec liens
           - Encourage l'utilisateur Ã  explorer le catalogue
        
        5. SYNCHRONISATION
           - Ã‰coute des Ã©vÃ©nements de favoris (custom events)
           - Si favori ajoutÃ© depuis autre page â†’ apparaÃ®t ici
           - Temps rÃ©el sans rechargement de page
        
        6. RECHERCHE
           - Import et initialisation du module search.js
           - Barre de recherche fonctionnelle sur cette page aussi
        
        LocalStorage API :
        - Web API native du navigateur
        - Stockage clÃ©-valeur (strings uniquement)
        - Synchrone (instantanÃ©)
        - Persistant (survit Ã  la fermeture du navigateur)
        - LimitÃ© Ã  ~5-10 MB par domaine
        - Accessible uniquement sur mÃªme domaine (sÃ©curitÃ©)
        
        Structure des donnÃ©es favorites :
        - Tableau d'objets mÃ©dia
        - Chaque objet contient : id, type, title/name, poster_path, vote_average
        - Format JSON stringifiÃ© pour stockage
        - Parse requis pour lecture
        
        MÃ©thodes utilisÃ©es :
        - localStorage.getItem('cinetech_favorites') â†’ lecture
        - localStorage.setItem('cinetech_favorites', JSON.stringify(array)) â†’ Ã©criture
        - JSON.parse(string) â†’ conversion string â†’ objet
        - JSON.stringify(object) â†’ conversion objet â†’ string
        
        Avantages localStorage :
        âœ… Aucun serveur requis (Ã©conomie)
        âœ… InstantanÃ© (pas de latence rÃ©seau)
        âœ… Fonctionne hors ligne
        âœ… Simple Ã  implÃ©menter
        
        InconvÃ©nients localStorage :
        âŒ Non synchronisÃ© entre appareils
        âŒ Perdu si cache vidÃ©
        âŒ Non sÃ©curisÃ© (visible en dev tools)
        âŒ LimitÃ© en taille
        
        Pour une application production rÃ©elle :
        - Utiliser un backend (Node.js, PHP, etc.)
        - Base de donnÃ©es (MongoDB, MySQL, etc.)
        - Authentification utilisateur
        - Synchronisation cloud
    -->
    <script type="module" src="js/favorites.js"></script>
</body>
</html>
